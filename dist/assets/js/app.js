(function(t){function n(n){for(var o,r,a=n[0],c=n[1],u=n[2],l=0,p=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(n);while(p.length)p.shift()();return s.push.apply(s,u||[]),e()}function e(){for(var t,n=0;n<s.length;n++){for(var e=s[n],o=!0,r=1;r<e.length;r++){var c=e[r];0!==i[c]&&(o=!1)}o&&(s.splice(n--,1),t=a(a.s=e[0]))}return t}var o={},i={app:0},s=[];function r(t){return a.p+"assets/js/"+({about:"about"}[t]||t)+".js"}function a(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.e=function(t){var n=[],e=i[t];if(0!==e)if(e)n.push(e[2]);else{var o=new Promise(function(n,o){e=i[t]=[n,o]});n.push(e[2]=o);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=r(t);var u=new Error;s=function(n){c.onerror=c.onload=null,clearTimeout(l);var e=i[t];if(0!==e){if(e){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",u.name="ChunkLoadError",u.type=o,u.request=s,e[1](u)}i[t]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:c})},12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(n)},a.m=t,a.c=o,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)a.d(e,o,function(n){return t[n]}.bind(null,o));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var d=u;s.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"41cb":function(t,n,e){"use strict";var o=e("2b0e"),i=e("8c4f"),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home-index"},[e("div",{staticClass:"screen-box",attrs:{id:"video-body"}}),t.showEnd?e("div",{staticClass:"home-index-end"},[e("div",{staticClass:"index-end-center"},[e("p",{staticClass:"end-title"},[t._v("哈尼, 本场直播已经结束了....")]),e("div",{staticClass:"index-end-end"},[e("div",{staticClass:"see-old-video",on:{click:t.seeOldVideo}},[t._v("看回放")]),e("div",{staticClass:"see-video-other"},[t._v("看别的")])])])]):t._e(),t.videoBegin?e("img",{staticClass:"video-is-play",attrs:{src:"https://p6.suibianyuming.com.cn/ct/video/bofang.png"},on:{click:function(n){return n.stopPropagation(),t.videoStart(n)}}}):t._e(),e("div",{staticClass:"video-index",attrs:{id:"content"}}),e("div",{staticClass:"item-info-zindex"},[e("img",{staticClass:"info-zindex-image",attrs:{src:t.videoInfo.img}}),e("div",{staticClass:"goods-title"},[t._v(t._s(t.videoInfo.nickname))])]),t._m(0),e("form",{staticClass:"view-shop-input",attrs:{action:"javascript:void 0"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtInput,expression:"txtInput"}],staticClass:"view-shop-inputs",attrs:{id:"send",type:"text",placeholder:"跟主播聊点什么?"},domProps:{value:t.txtInput},on:{keyup:function(n){return n.type.indexOf("key")||13===n.keyCode?t.confirmInput(n):null},input:function(n){n.target.composing||(t.txtInput=n.target.value)}}}),e("div",{staticClass:"look-shop",on:{click:t.pause}},[e("img",{attrs:{src:"https://p6.suibianyuming.com.cn/ct/video/shopshangpin@2x.png",alt:""}}),e("span",[t._v("查看商品")])]),e("img",{staticClass:"view-shop-like",attrs:{src:"https://p6.suibianyuming.com.cn/ct/video/shop/like@2x.png",alt:""}})])])},r=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"shop-share-shandom"},[e("img",{staticClass:"shop-share",attrs:{src:"https://p6.suibianyuming.com.cn/ct/video/shopfx.png",alt:""}})])}],a={name:"HelloWorld",data:function(){return{videoInfo:"",show:!0,control:!0,showEnd:!1,videoBegin:!0,txtInput:"",chatRoom:"",id:0,commentBox:[],rytokenInfo:"",joinInfo:"",goodlist:"",temLiveId:!1}},methods:{pause:function(){this.player.pause()},videoStart:function(){this.player.play(),this.videoBegin=!1},videoPlay:function(){var t=this,n=new QPlayer({url:this.joinInfo.push_url,container:document.getElementById("content"),isLive:!0,autoplay:!1,muted:!0,hls:{qualityName:["低清","标清","高清","超清"]},defaultViewConfig:{showControls:!1,inactiveTimeout:1500,noControls:!0,settingsIcon:"https://p6.suibianyuming.com.cn/ct/video/shopmessage@2x.png"}});this.player=n,n.on("ended",function(){t.showEnd=!0})},seeOldVideo:function(){this.showEnd=!1,this.player.play()},getGoodList:function(){var t=this,n={uid:this.$route.query.uid,live_id:this.temLiveId||this.videoInfo.id};this.api.liveGoodslist(n).then(function(n){t.goodlist=n.data})},top:function(){$(".screen-box").scrollTop($(".screen-box")[0].scrollHeight)},updateDanmu:function(t,n){$("#video-body").append(t),this.txtInput=""},getRandomColor:function(){for(var t=["1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],n="",e=0;e<6;e++)n+=t[Math.floor(15*Math.random())];return"#"+n},getTmp:function(t,n,e){return'<div style="padding-left:10px;"><span style=color:'+e+";font-size:14px;>"+t+":</span><span style='color:white;font-size:14px;'>"+n+"</span></div>"},confirmInput:function(){if(""!=this.txtInput.trim()){var t=this,n=(this.chatRoom,t.getTmp(t.rytokenInfo.info.nickname,t.txtInput,this.getRandomColor()));this.sendInfo(n),this.chatRoom.getInfo({order:RongIMLib.GetChatRoomType.REVERSE,memberCount:10},{onSuccess:function(t){console.log("获取聊天室信息成功"),console.log(t)},onError:function(t){}})}else alert("输入内容")},sendInfo:function(t,n){var e=this;e.chatRoom.sendMessage({content:t},{onSuccess:function(o){console.log("发送聊天室消息成功"),e.updateDanmu(t,n),setTimeout(e.top,100)},onError:function(t,n){console.log("发送聊天室消息失败",t)}})},liveInfo:function(){var t=this,n={uid:this.$route.query.uid};this.api.gorytoken(n).then(function(n){t.rytokenInfo=n,t.sever(t.rytokenInfo).then(function(n){t.livejoin()})}),this.api.liveList().then(function(n){t.videoInfo=n.list[0],t.getGoodList()})},livejoin:function(){var t,n=this,e={live_id:this.temLiveId||this.videoInfo.id,uid:this.$route.query.uid};this.api.livejoin(e).then(function(e){n.joinInfo=e.data;var o=n.getTmp(e.data.common_msg,"","red");$("#video-body").append(o),n.videoPlay(),t=n.getTmp(n.joinInfo.latest_msg,"","white"),n.sendInfo(t)})},sever:function(t){var n=this,e={appKey:t.key,token:t.token},o={chatRoomId:this.temLiveId||this.videoInfo.id,count:0};return new Promise(function(t,s){RongChatRoom.init(e,o,{onSuccess:function(e){console.log(1,e);var o=["title","submitAPI","questions"];i("QA",o),console.log("加入聊天室成功"),n.chatRoom=e,t()},onError:function(t){alert("加入聊天室失败。")},onMessage:function(t){console.log(t),n.updateDanmu(t.content.content),setTimeout(n.top,100)}})});function i(t,n){var e=t,o="s:"+t,i=new RongIMLib.MessageTag(!0,!0);RongIMClient.registerMessageType(e,o,i,n)}}},created:function(){},mounted:function(){this.liveInfo()}},c=a,u=(e("8915"),e("2877")),l=Object(u["a"])(c,s,r,!1,null,"55502bcd",null),d=l.exports;o["a"].use(i["a"]);n["a"]=new i["a"]({mode:"history",base:"",routes:[{path:"/",name:"home",component:d},{path:"/about",name:"about",component:function(){return e.e("about").then(e.bind(null,"f820"))}}]})},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var o=e("2b0e"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],r=(e("7c55"),e("2877")),a={},c=Object(r["a"])(a,i,s,!1,null,null,null),u=c.exports,l=e("41cb"),d=e("2f62");o["a"].use(d["a"]);var p=new d["a"].Store({state:{},mutations:{},actions:{}}),f=e("4328"),h=e.n(f),v=e("bc3a"),m=e.n(v),g=e("7c15"),y=e.n(g),b=e("1157");o["a"].config.productionTip=!1,o["a"].prototype.axios=m.a,o["a"].prototype.Qs=h.a,o["a"].prototype.$https="/api",o["a"].prototype.api=y.a,o["a"].prototype.$=b,new o["a"]({router:l["a"],store:p,render:function(t){return t(u)}}).$mount("#app")},"5c48":function(t,n,e){},"7c15":function(t,n,e){var o=e("f229"),i="?action=videoShow",s=function(t){return o.httpRequest(i,t)},r="?action=liveList",a=function(t){return o.httpRequest(r,t)},c="?action=rytoken",u=function(t){return o.httpRequest(c,t)},l="?action=livejoin",d=function(t){return o.httpRequest(l,t)},p="?action=liveGoodslist",f=function(t){return o.httpRequest(p,t)};t.exports={liveGoodslist:f,livejoin:d,pcindex:s,liveList:a,gorytoken:u}},"7c55":function(t,n,e){"use strict";var o=e("5c48"),i=e.n(o);i.a},8915:function(t,n,e){"use strict";var o=e("bded"),i=e.n(o);i.a},bded:function(t,n,e){},f229:function(t,n,e){"use strict";e.r(n),e.d(n,"httpRequest",function(){return u});e("7f7f");var o=e("bc3a"),i=e.n(o),s=e("4328"),r=e.n(s),a=e("41cb"),c="https://api.0gowang.com/international/media?";function u(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(function(o,s){i()({url:c+t,data:Object.assign({appver:"1.3.1",zid:"32"},n),transformRequest:[function(t){return r.a.stringify(t)}],method:e}).then(function(t){a["a"].currentRoute.name,a["a"].currentRoute.path,t.data.status;o(t.data)}).catch(function(t){s(t)})})}}});